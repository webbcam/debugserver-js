.. _session:

Session commands are sent over a socket connected to the respective session port
(received when :ref:`opening a session<api:opensession>`)

.. warning::
    You must first :ref:`open a session<api:opensession>` on the DebugServer
    and connect to it over a socket before sending any session commands.

.. contents:: Command List:
    :local:
    :backlinks: top

----

connect
-------

Connect to the target

+----------------+---------------+----------------------------------+
| **Request**                                                       |
+================+===============+==================================+
| **Key**        | **Value**     | **Description**                  |
+----------------+---------------+----------------------------------+
| "name"         | "connect"     | \-                               |
+----------------+---------------+----------------------------------+
| "args"         | \-            | \-                               |
+----------------+---------------+----------------------------------+

.. code-block:: javascript

    //  Request
    {
        "name": "connect"
    }

disconnect
----------

Disconnect from the target

+----------------+---------------+----------------------------------+
| **Request**                                                       |
+================+===============+==================================+
| **Key**        | **Value**     | **Description**                  |
+----------------+---------------+----------------------------------+
| "name"         | "disconnect"  | \-                               |
+----------------+---------------+----------------------------------+
| "args"         | \-            | \-                               |
+----------------+---------------+----------------------------------+

.. code-block:: javascript

    //  Request
    {
        "name": "disconnect"
    }

erase
-----

Erases load on target (must be :ref:`connected<api:connect>`)

+----------------+---------------+----------------------------------+
| **Request**                                                       |
+================+===============+==================================+
| **Key**        | **Value**     | **Description**                  |
+----------------+---------------+----------------------------------+
| "name"         | "erase"       | \-                               |
+----------------+---------------+----------------------------------+
| "args"         | \-            | \-                               |
+----------------+---------------+----------------------------------+

.. code-block:: javascript

    //  Request
    {
        "name": "erase"
    }

reset
-----

Resets device (must be :ref:`connected<api:connect>`)

+----------------+---------------+----------------------------------+
| **Request**                                                       |
+================+===============+==================================+
| **Key**        | **Value**     | **Description**                  |
+----------------+---------------+----------------------------------+
| "name"         | "reset"       | \-                               |
+----------------+---------------+----------------------------------+
| "args"         | \-            | \-                               |
+----------------+---------------+----------------------------------+

.. code-block:: javascript

    //  Request
    {
        "name": "reset"
    }

load
-----

Loads image into device's load (must be :ref:`connected<api:connect>`)

+----------------+---------------+----------------------------------------------------+
| **Request**                                                                         |
+================+===============+====================================================+
| **Key**        | **Value**     | **Description**                                    |
+----------------+---------------+----------------------------------------------------+
| "name"         | "load"       | \-                                                  |
+----------------+---------------+----------------------------------------------------+
| "args"         | "image"       | Path to image to load                              |
|                +---------------+----------------------------------------------------+
|                | "binary"      | Load image as binary (optional; default=false)     |
|                +---------------+----------------------------------------------------+
|                | "address"     | Address location to load binary image (optional)   |
+----------------+---------------+----------------------------------------------------+

.. code-block:: javascript

    //  Request
    {
        "name": "load",
        "args": {
            "image": "/path/to/image.hex"
        }
    }

    //  Request (binary)
    {
        "name": "load",
        "args": {
            "image": "/path/to/image.bin",
            "binary": true,
            "address": 0x10000000
        }
    }

stop
----

Stop the session thread (does not :ref:`terminate session<api:terminatesession>`)

+----------------+---------------+----------------------------------+
| **Request**                                                       |
+================+===============+==================================+
| **Key**        | **Value**     | **Description**                  |
+----------------+---------------+----------------------------------+
| "name"         | "stop"        | \-                               |
+----------------+---------------+----------------------------------+
| "args"         | \-            | \-                               |
+----------------+---------------+----------------------------------+

.. code-block:: javascript

    //  Request
    {
        "name": "stop"
    }

